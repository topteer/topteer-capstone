<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Search results</title>
    <link th:replace="partials/header.html :: header"/>
</head>
<nav th:replace="partials/navbar.html :: navbar"></nav>
<div class="wrapper">
    <div id="myModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalHeader">Search for Organizations and Events</h2>
                <span class="close">&times;</span>
            </div>
            <form th:action="@{/search}" method="post">
                <div class="d-flex align-items-center b-0">
                    <label for="search-params"></label><select class="nosir" id="search-params" name="search-params">
                    <option value="2">Organizations</option>
                    <option value="1">Events</option>
                </select>
                    <label for="query"></label><input class="nosir mx-2" id="query" name="query" type="text"
                                                      placeholder="Search"/>
                    <button class="btn-hover color-9 m-0" type="submit" value="submit">Search</button>
                </div>
            </form>
        </div>
    </div>
</div>
<body class="formBody">
<main class="w3-card-4 w3-margin-center w3-round-xlarge">


    <div class="w3-center w3-blue w3-border">
        <h3>This is what we've found!</h3>

        <!--    =========== Search results (From home controller) for loop  ==========-->
        <div class="w3-center container w3-white w3-border" th:each="event : ${searchResults}">
            <a th:href="@{'/event/' + ${event.id} + '/show'}">
                <div>
                    <h4 th:text="${event.title}"></h4>
                    <p th:text="${event.description}"></p>
                    <p th:text="${event.location}"></p>
                </div>
            </a>
        </div>


        <!--    Org Search Results-->
        <div class="w3-center container w3-white w3-border" th:each="organization : ${searchResults2}">
            <!--    ==== Link to result with short description ======-->
            <a th:href="@{'/organization/' + ${organization.id} + '/show'}">
                <div>
                    <h4 th:text="${organization.orgName}"></h4>
                    <p th:text="'Phone: ' + ${organization.phone}"></p>
                    <p th:text="'Email: ' + ${organization.email}"></p>
                    <p th:text="${organization.address} + ' ' + ${organization.city} + ', ' + ${organization.state.toUpperCase()} + ' ' + ${organization.zip}">
                        <!-- this is the correct syntax to concatenate fields -->
                    </p>
                </div>
            </a>
        </div>
    </div>


</main>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script type="text/javascript" th:src="@{/js/modal.js}"> </script>
</body>
<!--<div>-->
<!--    <footer th:replace="partials/footer.html :: footer"></footer>-->
<!--</div>-->
</html>